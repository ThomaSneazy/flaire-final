<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <h1>Template ViteJs</h1>

    <h2>Avec JavaScript</h2>
    <p><a href="https://github.com/armandsalle/vite-javascript-webflow">https://github.com/armandsalle/vite-javascript-webflow</a></p>

    <h2>Avec TypeScript</h2>
    <p><a href="https://github.com/armandsalle/vite-typescript-webflow">https://github.com/armandsalle/vite-typescript-webflow</a></p>

    <h2>Les √©tapes √† suivre</h2>
    <p>üìå Ce tuto n√©cessite d'avoir les bases avec Git, GitHub et NodeJs.</p>

    <p>‚ö†Ô∏è Pr√©requis : Git, NodeJS, Yarn, un IDE comme VSCode, un compte GitHub et Netlify.</p>

    <p>‚ö° Note : D√©sactivez les Ad Blockers ou Brave Shield sur votre site Webflow en live.</p>

    <p><strong>Attention :</strong> Ce setup ne fonctionne pas avec Safari pour l'instant !</p>

    <h3>√âtape 1 : Installation et initialisation üíΩ</h3>
    <ol>
      <li>Rendez-vous sur le <a href="#">template Vite + JavaScript</a></li>
      <li>Clonez le repo en utilisant "Use this template"</li>
      <li>Clonez votre nouveau repo localement</li>
      <li>D√©placez-vous dans le dossier du projet</li>
      <li>Installez les d√©pendances avec <code>yarn</code> ou <code>npm i</code></li>
      <li>Ouvrez VSCode pour ce projet</li>
    </ol>

    <h3>√âtape 2 : Le lancement üèè</h3>
    <ol>
      <li>Commencez √† coder dans <code>src/main.js</code></li>
      <li>Lancez le serveur de dev avec <code>yarn dev</code></li>
    </ol>

    <h3>√âtape 3 : Int√©gration avec Webflow üìù</h3>
    <p>Deux possibilit√©s pour l'int√©gration :</p>

    <h4>Option 1 : Si vous faites le dev Webflow et le JS</h4>
    <p>Ajoutez ce script dans la partie "Before  tag" du custom code de Webflow :</p>
    <pre><code>&lt;script type="module" src="http://localhost:3000/@vite/client"&gt;&lt;/script&gt;
&lt;script type="module" src="http://localhost:3000/src/main.js"&gt;&lt;/script&gt;</code></pre>

    <h4>Option 2 : Si vous faites le dev JS mais pas le dev Webflow (recommand√©)</h4>
    <p>Ajoutez ce script dans la partie "Before  tag" du custom code de Webflow :</p>
    <pre><code>
      (function () {
        const LOCALHOST_URL = [
          'http://localhost:3000/@vite/client',
          'http://localhost:3000/src/main.js',
        ]
        const PROD_URL = ['https://MY-PROJECT.netlify.app/main.js']
    
        function createScripts(arr, isDevMode) {
          return arr.map(function (url) {
            const s = document.createElement('script')
            s.src = url
    
            if (isDevMode) {
              s.type = 'module'
            }
    
            return s
          })
        }
    
        function insertScript(scriptArr) {
          scriptArr.forEach(function (script) {
            document.body.appendChild(script)
          })
        }
    
        const localhostScripts = createScripts(LOCALHOST_URL, true)
        const prodScripts = createScripts(PROD_URL, false)
    
        let choosedScripts = null
    
        fetch(LOCALHOST_URL[0], {})
          .then(() => {
            choosedScripts = localhostScripts
          })
          .catch((e) => {
            choosedScripts = prodScripts
            console.error(e)
          })
          .finally(() => {
            if (choosedScripts) {
              insertScript(choosedScripts)
    
              return
            }
    
            console.error('something went wrong, no scripts loaded')
          })
      })()
    </code></pre>

    <h3>√âtape 4 : Mise en production üöÄ</h3>
    <ol>
      <li>Committez et poussez votre code sur GitHub</li>
      <li>Cr√©ez un compte sur Netlify et d√©ployez votre site depuis Git</li>
      <li>Personnalisez le nom de domaine Netlify dans les param√®tres</li>
    </ol>

    <p>Votre projet est maintenant en ligne ! Acc√©dez √† vos fichiers JS via : <code>https://[votre_domaine].netlify.app/main.js</code></p>
    <!-- <script src="https://unpkg.com/@studio-freight/lenis@1.0.33/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.18.0/matter.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/timothydesign/script/split-type.js"></script>
     -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
